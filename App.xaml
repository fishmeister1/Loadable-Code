<Application x:Class="Codeful.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <!-- Light Theme Colors -->
        <SolidColorBrush x:Key="BackgroundBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="ForegroundBrush" Color="#1F1F1F"/>
        <SolidColorBrush x:Key="AccentBrush" Color="#2D7BFF"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#E5E5E5"/>
        <SolidColorBrush x:Key="HoverBrush" Color="#F8F9FA"/>
        <SolidColorBrush x:Key="SidebarBackgroundBrush" Color="#FBFBFB"/>
        <SolidColorBrush x:Key="SidebarBorderBrush" Color="#EBEBEB"/>
        <SolidColorBrush x:Key="InputAreaBackgroundBrush" Color="#FDFDFD"/>
        <SolidColorBrush x:Key="MessageBubbleUserBrush" Color="#2D7BFF"/>
        <SolidColorBrush x:Key="MessageBubbleAssistantBrush" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="SecondaryTextBrush" Color="#6B7280"/>
        
        <!-- Gradients -->
        <LinearGradientBrush x:Key="AIStarGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF69B4" Offset="0"/>
            <GradientStop Color="#FF1493" Offset="0.5"/>
            <GradientStop Color="#FF4500" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Drop Shadow Effect -->
        <DropShadowEffect x:Key="WindowDropShadow" 
                          BlurRadius="20" 
                          ShadowDepth="8" 
                          Color="#40000000" 
                          Opacity="0.1"/>
        
        <!-- Glow Effect -->
        <DropShadowEffect x:Key="RedGlowEffect"
                          BlurRadius="15"
                          ShadowDepth="0"
                          Color="#FF4444"
                          Opacity="0.8"/>
        
        <!-- SVG Icons -->
        <Geometry x:Key="SendIcon">M2,21L23,12L2,3V10L17,12L2,14V21Z</Geometry>
        <Geometry x:Key="AIStarIcon">M90.64,59.09L74.39,52C70.46,50.29 67.33,47.15 65.62,43.23L58.53,27C57.98,25.74 56.19,25.74 55.64,27L48.55,43.25C46.84,47.18 43.7,50.31 39.78,52.02L23.51,59.12C22.25,59.67 22.25,61.45 23.51,62L40.06,69.32C43.98,71.05 47.1,74.2 48.79,78.14L55.65,94.08C56.19,95.35 57.99,95.35 58.54,94.08L65.62,77.86C67.33,73.93 70.47,70.8 74.39,69.09L90.64,62C91.9,61.45 91.9,59.66 90.64,59.09Z M25.28,48.51L28.6,40.9C29.4,39.06 30.87,37.59 32.71,36.79L40.33,33.47C40.92,33.21 40.92,32.37 40.33,32.12L32.71,28.8C30.87,28 29.4,26.53 28.6,24.69L25.28,17.07C25.02,16.48 24.18,16.48 23.93,17.07L20.61,24.69C19.81,26.53 18.34,28 16.5,28.8L8.87,32.13C8.28,32.39 8.28,33.22 8.87,33.48L16.63,36.91C18.47,37.72 19.93,39.2 21.72,41.04L24.94,48.51C25.2,49.1 26.04,49.11 25.28,48.51Z M39.89,13.95L44.01,15.77C44.99,16.2 45.76,16.99 46.18,17.96L47.89,21.93C48.03,22.25 48.47,22.25 48.61,21.93L50.37,17.89C50.8,16.91 51.58,16.13 52.55,15.71L56.59,13.95C56.9,13.81 56.9,13.37 56.59,13.23L52.55,11.47C51.57,11.04 50.79,10.26 50.37,9.29L48.61,5.25C48.47,4.94 48.03,4.94 47.89,5.25L46.13,9.29C45.7,10.27 44.92,11.05 43.95,11.47L39.9,13.24C39.59,13.38 39.59,13.82 39.89,13.95Z</Geometry>
        <Geometry x:Key="PlusIcon">M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z</Geometry>
        <Geometry x:Key="SettingsIcon">M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z</Geometry>
        <Geometry x:Key="CloseIcon">M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z</Geometry>
        <Geometry x:Key="MinimizeIcon">M20,14H4V10H20</Geometry>
        <Geometry x:Key="MaximizeIcon">M4,4H20V20H4V4M6,8V18H18V8H6Z</Geometry>
        <Geometry x:Key="RestoreIcon">M4,8H8V4H20V16H16V20H4V8M16,8V14H18V6H10V8H16M6,12V18H14V12H6Z</Geometry>
        
        <!-- Icon Button Style -->
        <Style x:Key="IconButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Height" Value="44"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Window Control Button Style -->
        <Style x:Key="WindowControlButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                                <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Close Button Style -->
        <Style x:Key="CloseButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#20FF0000"/>
                                <Setter Property="Foreground" Value="#FF4444"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Send Button Style -->
        <Style x:Key="SendButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource AIStarGradient}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="20"
                                RenderTransformOrigin="0.5,0.5">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="ButtonScale" ScaleX="1" ScaleY="1"/>
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                           Storyboard.TargetProperty="ScaleX"
                                                           To="1.1" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                           Storyboard.TargetProperty="ScaleY"
                                                           To="1.1" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                           Storyboard.TargetProperty="ScaleX"
                                                           To="1.0" Duration="0:0:0.1"/>
                                            <DoubleAnimation Storyboard.TargetName="ButtonScale"
                                                           Storyboard.TargetProperty="ScaleY"
                                                           To="1.0" Duration="0:0:0.1"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter Property="Effect" Value="{StaticResource RedGlowEffect}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}"/>
                                <Setter Property="Effect" Value="{x:Null}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Chat Input Style -->
        <Style x:Key="ChatInputStyle" TargetType="TextBox">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Resources/#Epilogue"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Grid>
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          VerticalScrollBarVisibility="Auto"
                                          HorizontalScrollBarVisibility="Disabled"/>
                            <TextBlock x:Name="PlaceholderText"
                                       Text="Generate a script..."
                                       FontFamily="{TemplateBinding FontFamily}"
                                       FontSize="{TemplateBinding FontSize}"
                                       FontWeight="{TemplateBinding FontWeight}"
                                       Foreground="{StaticResource SecondaryTextBrush}"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       Margin="2,0,0,0"
                                       IsHitTestVisible="False"
                                       Visibility="Collapsed"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Text" Value="">
                                <Setter TargetName="PlaceholderText" Property="Visibility" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="Text" Value="{x:Null}">
                                <Setter TargetName="PlaceholderText" Property="Visibility" Value="Visible"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Message Styles -->
        <Style x:Key="UserMessageTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Resources/#Epilogue"/>
        </Style>
        
        <Style x:Key="ThinkingTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="9"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Foreground" Value="{StaticResource SecondaryTextBrush}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Resources/#Epilogue"/>
        </Style>
        
        <Style x:Key="AiResponseTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Resources/#Epilogue"/>
        </Style>
        
        <Style x:Key="AiRichTextStyle" TargetType="RichTextBox">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="FontFamily" Value="pack://application:,,,/Resources/#Epilogue"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="IsReadOnly" Value="True"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="Cursor" Value="Arrow"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>
        
        <Style x:Key="CodeBlockStyle" TargetType="Border">
            <Setter Property="Background" Value="#F5F5F5"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Margin" Value="4,2"/>
        </Style>
        
        <Style x:Key="MessageDividerStyle" TargetType="Border">
            <Setter Property="Height" Value="1"/>
            <Setter Property="Background" Value="{StaticResource BorderBrush}"/>
            <Setter Property="Margin" Value="0,4,0,4"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>
        
        <Style x:Key="MessageContainerStyle" TargetType="Border">
            <Setter Property="Margin" Value="0,0,0,24"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
        
        <!-- Window Style -->
        <Style TargetType="Window">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
        </Style>
        
        <!-- Default Button Style -->
        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource BackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"
                                            Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Minimalistic ScrollBar Styles (ChatGPT-like) -->
        <Style x:Key="MinimalisticScrollBarThumb" TargetType="Thumb">
            <Setter Property="Background" Value="#C0C0C0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Thumb">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="3"
                                Opacity="0.6">
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#A0A0A0"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter Property="Background" Value="#808080"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="6"/>
            <Setter Property="MinWidth" Value="6"/>
            <Setter Property="Margin" Value="0,0,2,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="Transparent">
                            <Track Name="PART_Track" 
                                   IsDirectionReversed="True"
                                   Grid.Row="0">
                                <Track.DecreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageUpCommand"
                                                  Style="{x:Null}"
                                                  Background="Transparent"
                                                  BorderThickness="0"/>
                                </Track.DecreaseRepeatButton>
                                <Track.IncreaseRepeatButton>
                                    <RepeatButton Command="ScrollBar.PageDownCommand"
                                                  Style="{x:Null}"
                                                  Background="Transparent"
                                                  BorderThickness="0"/>
                                </Track.IncreaseRepeatButton>
                                <Track.Thumb>
                                    <Thumb Style="{StaticResource MinimalisticScrollBarThumb}"
                                           Width="6"
                                           Margin="0"/>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="False">
                                <Setter TargetName="PART_Track" Property="Opacity" Value="0.3"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="PART_Track" Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="Orientation" Value="Horizontal">
                    <Setter Property="Height" Value="6"/>
                    <Setter Property="MinHeight" Value="6"/>
                    <Setter Property="Width" Value="Auto"/>
                    <Setter Property="Margin" Value="0,0,0,2"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- Chat Card Styles -->
        <Style x:Key="ChatCardStyle" TargetType="Border">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="12"/>
            <Setter Property="Margin" Value="8,4"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource HoverBrush}"/>
                    <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="ChatDeleteButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#888888"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Width" Value="20"/>
            <Setter Property="Height" Value="20"/>
            <Setter Property="Opacity" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#20FF0000"/>
                                <Setter Property="Foreground" Value="#FF4444"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Border}, Path=IsMouseOver}" Value="True">
                    <Setter Property="Opacity" Value="1"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Application.Resources>
</Application>